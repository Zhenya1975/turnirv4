на выходе на странице мы получаем строку из таблицы БОИ
Строки таблицы создаются по мере получения новых данных
при нажатии на кнопку Выбрать пользователь переходит на следующую строку в этой таблице
Что если не так. 
Функция не создает вперед эти строки. А результатом функции является просто новый бой. Посмотрели назад, сгенерировали новый бой. И результат боя записали в базу. И запустили функцию снова. сгенерировали новый бой, отдали на страницу, забрали результат.